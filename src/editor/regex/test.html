<html>

<body>
    <button onclick="searchTest()">searchtest</button>
    <button onclick="replaceTest()">replacetest</button>
    <button onclick="addTagsTest()">addTagsTest</button>
    <button onclick="removeTagsTest()">removeTagsTest</button>
    <button onclick="makeStringFat()">makeStringFat</button>
    <button onclick="makeStringKursiv()">makeStringKursiv</button>
    <button onclick="makeStringUnderlined()">makeStringUnderlined</button>
    <br />

    <textarea id="searchArea" placeholder="awesometext"></textarea>
    <br />
    <textarea id="searchfield" placeholder="search"></textarea>
    <br />
    <button onclick="searchAndMark()">searchAndMark</button>


    <script src="regex.js"></script>
    <script>
        function searchAndMark() {
            this.tmpUtil = new util.regex();

            //var text = document.getElementById("searchArea").value;
            //var search = document.getElementById("searchfield").value;
            var text = "h<span style='color:blue;background-color: yellow' currentid='0'>ell</span>o <ell><br>hello <ell></ell></ell>";
            var search = "REPL";
            document.write("<br/>searchText: <br/>");
            document.write(text);
            document.write("<br/>replaceText: <br/>");
            document.write(search);
            var idk = this.tmpUtil.replaceStringAtID(0, search, text);
            document.write("<br/>resultText <br/>");
            document.write(idk);
            var withoutSpans = this.tmpUtil.removeSpanWithAttributes(idk);
            document.write("<br/>withoutSpans");
            document.write("<br />");
            document.write(withoutSpans);

        }

        function makeStringFat() {
            var text = prompt("Enter Text");

            document.write(tmpUtil.makeStringFat(text));
        }

        function makeStringKursiv() {
            var text = prompt("Enter Text");

            document.write(tmpUtil.makeStringKursiv(text));
        }

        function makeStringUnderlined() {
            var text = prompt("Enter Text");

            document.write(tmpUtil.makeStringUnderlined(text));
        }

        function addTagsTest() {
            var text = prompt("Enter Text");
            var open = prompt("Enter Tagopening String");
            var close = prompt("Enter TagClose String");

            document.write(tmpUtil.addTagsToString(text, open, close));
        }

        function removeTagsTest() {
            var text = prompt("Enter Text");
            var open = prompt("Enter Tagopening String");
            var close = prompt("Enter TagClose String");

            document.write(tmpUtil.removeTagsFromString(text, open, close));
        }

        function checkTagsTest() {
            var text = prompt("Enter Text");
            var open = prompt("Enter Tagopening String");
            var close = prompt("Enter TagClose String");

            document.write(tmpUtil.stringHasTags(text, open, close));

        }

        function searchTest() {

            var text = prompt("Enter Text");
            var search = prompt("Enter Search String");
            var res = tmpUtil.searchStringInString(search, text, "ig");
            for (cur in res) {
                document.write(res[cur].found);
                document.write(" at index ");
                document.write(res[cur].index);
                document.write("<br>");
            }
        }

        function replaceTest() {
            var text2 = prompt("Enter text for replacing");
            var search2 = prompt("Enter search String");
            var replace = prompt("Enter replace String");

            var result = tmpUtil.replaceStringInString(search2, replace, text2);

            if ("replaced" in result) {
                for (x in result["replaced"]) {
                    document.write(result["replaced"][x].found);
                    document.write(" at index ");
                    document.write(result["replaced"][x].index);
                    document.write("<br>");

                }
            } else {
                document.write("No charackters were found or changed");
                document.write("<br>");
            }

            document.write(result["result"]);
        }
    </script>
</body>

</html>
